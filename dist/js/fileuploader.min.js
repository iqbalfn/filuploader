/*!
  * File Uploader v0.0.1 (https://iqbalfn.github.io/fileuploader/)
  * Copyright 2019 Iqbal Fauzi
  * Licensed under MIT (https://github.com/iqbalfn/fileuploader/blob/master/LICENSE)
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).fileuploader={})}(this,function(e){"use strict";var t=function(){function e(t){var n=this;this._queries=t.queries||{},this._fields=t.fields||{},this._files=t.files||{},this._headers=t.headers||{},this._url=t.url,this._response=null,this._xhr=null;["onStart","onProgress","onError","onSuccess","onComplete"].forEach(function(e){t[e]&&(n[e]=t[e])})}var t=e.prototype;return t.onStart=function(){},t.onProgress=function(){},t.onError=function(){},t.onSuccess=function(){},t.onComplete=function(){},t.getResponse=function(){return this._response},t.send=function(){var e=this,t=new FormData,n=new XMLHttpRequest;for(var i in this._xhr=n,this._fields)t.append(i,this._fields[i]);for(var s in this._files)t.append(s,this._files[s],this._files[s].name);var r=this._url,o=r.includes("?")?"&":"?",u=[];for(var f in this._queries)u.push(this._qs(f)+"="+this._qs(this._queries[f]));u.length&&(r+=o+u),n.open("POST",r,!0),n.onreadystatechange=function(){if(e.onProgress(e,n.readyState),4==n.readyState){if(200!=n.status)return e.onError(e,e._xhr),void e.onComplete(e,e._xhr);var t=null;try{t=JSON.parse(n.responseText)}catch(e){t=n.responseText}e.onSuccess(e,e._xhr,t),e.onComplete(e,e._xhr)}},n.send(t),this.onStart(this,this._xhr)},t.addField=function(e,t){this._fields[e]=t},t.addFile=function(e,t){this._files[e]=t},t.addHeader=function(e,t){this._headers[e]=t},t.addQuery=function(e,t){this._queries[e]=t},t.setUrl=function(e){this._url=e},t.getUrl=function(){return this._url},t.getField=function(e){return this._fields[e]},t.getFields=function(){return this._fields},t.getFile=function(e){return this._files[e]},t.getFiles=function(){return this._files},t.getHeader=function(e){return this._headers[e]},t.getHeaders=function(){return this._headers},t.getQuery=function(e){return this._queries[e]},t.getQueries=function(){return this._queries},t._qs=function(e){return encodeURIComponent(e)},e}();window.FileUploader=t,e.FileUploader=t,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=fileuploader.min.js.map